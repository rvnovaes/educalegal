---
id: logic
mandatory: True
code: |
  if valid_data:
    email
    generated_file
    el_document_patched_with_docassemble_data
    if plan_use_ged:
      el_document_patched_with_ged_data
    document_ready_screen
  all_done
---
include:
  - element-tenant-school-interview.yml
  - element-data-list.yml
  - element-generate-file.yml
  - element-educalegal-patch-document.yml
  - element-ged.yml
  - element-document-ready.yml
---
question: Email
fields:
  - E-mail:: email
    default: iasmini.gomes@gmail.com
    datatype: email
---
code:  |
  content_document = "docusign-anchor.docx"
---
code: |
  recipients = list()

  new_recipient = dict()
  new_recipient['name'] = 'Iasmini Gomes'
  new_recipient['email'] = email
  new_recipient['group'] = 'signers'
  new_recipient['routingOrder'] = 1
  new_recipient['tabs'] = [
      {
          'type': 'signHere',
          'anchorString': generate_anchor('signHere', email)
      },
  ]
  recipients.append(new_recipient)

  document_name = custom_file_name + '.pdf'

  documents = [
      {
          'name': document_name,
          'fileExtension': 'pdf',
          'documentBase64': make_document_base64(generated_file.pdf.path())
      }
  ]
